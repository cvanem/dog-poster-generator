"use strict";(self.webpackChunkdog_poster_generator=self.webpackChunkdog_poster_generator||[]).push([[559],{6559:function(e,n,r){r.r(n),r.d(n,{default:function(){return me}});var t=r(8214),i=r(5861),o=r(2334),a=r(4198),s=r(4643),l=r(1413),d=r(5326),c=r(9867),u=r(6334),x=r(2776),g=r(7155),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.trigger,r=void 0===n||n,o=(0,g.yS)(),a=(0,x.CG)((function(e){return e.global.breeds})),s=(0,x.CG)((function(e){return e.global.loading})),l=(0,x.CG)((function(e){return e.global.error})),d=c.useCallback((0,i.Z)((0,t.Z)().mark((function e(){var n,r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({loading:!0,breeds:[]}),e.prev=1,e.next=4,u.ZP.get("https://dog.ceo/api/breeds/list/all");case 4:"success"===(null===(i=e.sent)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.status)&&null!==i&&void 0!==i&&null!==(r=i.data)&&void 0!==r&&r.message?o({loading:!1,breeds:i.data.message}):(console.error("Error loading breeds",i),o({loading:!1,error:{message:"Error loading breeds"}})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error loading breeds",e.t0),o({loading:!1,error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[o]);return c.useEffect((function(){r&&d()}),[r,d]),{breeds:a,loading:s,error:l,handleRefresh:d}},v=r(4324),p=r(3778),f=r(5987),m=r(7495),b=r(4393),Z=r(1186),j=r(7531),w=r(8080),P=r(786),C=r(2834),k=["loading","options","value","onChange","disabled","freeSolo"],y=function(e){var n;return(null!==(n="object"===typeof e&&e?e.label:e)&&void 0!==n?n:"").toString()},S=function(e,n){var r;return Array.isArray(n)&&null!==(r=n.find((function(n){return"object"===typeof n?n.value===e:n===e})))&&void 0!==r?r:""};function I(e){var n=e.loading,r=e.options,t=void 0===r?[]:r,i=e.value,o=void 0===i?"":i,a=e.onChange,d=e.disabled,u=void 0!==d&&d,x=e.freeSolo,g=void 0===x?void 0:x,h=(0,f.Z)(e,k),v=c.useCallback((function(e,n){a&&a(function(e){var n;return null!==(n="object"===typeof e&&e?e.value:e)&&void 0!==n?n:""}(n))}),[a]);return(0,C.jsx)(m.Z,{freeSolo:g,autoHighlight:!0,getOptionLabel:function(e){return y(e)},disabled:u,value:(0,P.xb)(o)?null:S(o,t),options:t,renderOption:function(e,n){return(0,C.jsx)(s.Z,(0,l.Z)((0,l.Z)({component:"li"},e),{},{children:y(n)}))},onChange:v,renderInput:function(e){return(0,C.jsx)(b.Z,(0,l.Z)((0,l.Z)({},e),{},{inputProps:(0,l.Z)((0,l.Z)({},e.inputProps),{},{autoComplete:"new-password"}),InputLabelProps:{shrink:!0},InputProps:(0,l.Z)((0,l.Z)({},e.InputProps),{},{endAdornment:n?(0,C.jsx)(Z.Z,{position:"end",children:(0,C.jsx)(j.Z,{size:"small",disabled:!0,children:(0,C.jsx)(w.Z,{color:"inherit",size:20})})}):e.InputProps.endAdornment}),disabled:u},h))}})}function G(e){var n=e.id,r=e.value,t=e.placeholder,i=void 0===t?"Please select breed...":t,o=h({trigger:!1}),a=o.breeds,s=o.loading,l=(0,g.Qs)();return(0,C.jsx)(I,{value:r,loading:s,placeholder:i,onChange:function(e){return l({id:n,breed:e,subBreed:void 0})},options:Object.keys(a)})}function O(e){var n=e.id,r=e.value,t=e.placeholder,i=void 0===t?"Please select subbreed...":t,o=h({trigger:!1}).loading,a=(0,x.CG)((function(e){var r,t;return null!==(r=e.global.breeds[null===(t=e.global.selected[n])||void 0===t?void 0:t.breed])&&void 0!==r?r:[]})),s=(0,g.Qs)();return(0,C.jsx)(I,{value:r,loading:o,disabled:o||0===a.length,placeholder:0===a.length?"No sub breeds available":i,onChange:function(e){return s({id:n,subBreed:e})},options:null!==a&&void 0!==a?a:[]})}var A=r(6788),N=r(9597),W=r(6900),z=["onChange","min","max","thousandSeparator"],E=["value","onChange","InputProps","inputProps","min","max","thousandSeparator"],L=function(e){return void 0!==e&&null!==e},R=function(e,n,r){return(0,P.xb)(r)?r:L(e)&&Number(r)<Number(e)?e:L(n)&&Number(r)>Number(n)?n:r},B=c.forwardRef((function(e,n){var r=e.onChange,t=e.min,i=e.max,o=e.thousandSeparator,a=void 0===o?",":o,s=(0,f.Z)(e,z);return(0,C.jsx)(W.Z,(0,l.Z)({getInputRef:n,onValueChange:function(e){r({target:{value:R(t,i,e.value)}})},decimalScale:0,allowNegative:!1,isNumericString:!0,thousandSeparator:a},s))}));function M(e){var n=e.value,r=e.onChange,t=e.InputProps,i=void 0===t?{}:t,o=e.inputProps,a=void 0===o?{}:o,s=e.min,d=void 0===s?void 0:s,u=e.max,x=void 0===u?void 0:u,g=e.thousandSeparator,h=void 0===g?void 0:g,v=(0,f.Z)(e,E),p=c.useCallback((function(e){var n;return r&&r(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)}),[r]);return(0,C.jsx)(b.Z,(0,l.Z)({onChange:p,value:n,InputProps:(0,l.Z)({inputComponent:B},i),inputProps:(0,l.Z)({value:n,min:d,max:x,thousandSeparator:h},a)},v))}function Q(e){var n=e.id,r=e.value,t=(0,g.Qs)();return(0,C.jsx)(M,{min:1,max:100,value:r,onChange:function(e){return t({id:n,count:e})},InputProps:{endAdornment:(0,C.jsx)(Z.Z,{position:"end",children:1===r||"1"===r?"image":"images"})}})}function _(e){var n=e.id,r=e.breed,t=e.subBreed,i=e.count,o=e.canDelete,a=void 0===o||o,s=e.isLast,l=(0,g.Qs)(),u=(0,g.Rh)(),x=c.useCallback((function(){return l({})}),[l]),h=c.useCallback((function(){return u({id:n})}),[n,u]);return(0,C.jsxs)(d.ZP,{container:!0,spacing:2,sx:{mt:1},alignItems:"center",children:[(0,C.jsx)(d.ZP,{item:!0,xs:!0,children:(0,C.jsx)(G,{id:n,value:r})}),(0,C.jsx)(d.ZP,{item:!0,xs:!0,children:(0,C.jsx)(O,{id:n,value:t})}),(0,C.jsx)(d.ZP,{item:!0,sx:{width:132},children:(0,C.jsx)(Q,{id:n,value:i})}),(0,C.jsx)(d.ZP,{item:!0,sx:{width:52},children:a&&(0,C.jsx)(v.Z,{title:"Remove row",children:(0,C.jsx)(p.Z,{size:"small",color:"warning","aria-label":"remove",onClick:h,children:(0,C.jsx)(A.Z,{})})})}),(0,C.jsx)(d.ZP,{item:!0,sx:{width:40},children:s&&(0,C.jsx)(v.Z,{title:"Add new row",children:(0,C.jsx)(p.Z,{size:"small",color:"primary","aria-label":"add",onClick:x,children:(0,C.jsx)(N.Z,{})})})})]})}function D(){h();var e=(0,x.CG)((function(e){return e.global.selected}));return(0,C.jsxs)(d.ZP,{container:!0,spacing:2,justifyContent:"center",children:[(0,C.jsx)(d.ZP,{item:!0,xs:!0,sx:{fontWeight:700},children:"Breed"}),(0,C.jsx)(d.ZP,{item:!0,xs:!0,sx:{fontWeight:700},children:"Subbreed"}),(0,C.jsx)(d.ZP,{item:!0,sx:{fontWeight:700,width:132},children:"# of Images"}),(0,C.jsx)(d.ZP,{item:!0,sx:{width:52}}),(0,C.jsx)(d.ZP,{item:!0,sx:{width:40}}),(0,C.jsx)(d.ZP,{item:!0,xs:12,children:(0,C.jsx)(a.Z,{})}),(0,C.jsx)(d.ZP,{item:!0,xs:12,children:Object.keys(e).map((function(n,r){return(0,C.jsx)("div",{children:(0,C.jsx)(_,(0,l.Z)((0,l.Z)({id:n},e[n]),{},{canDelete:Object.keys(e).length>1,isLast:r===Object.keys(e).length-1}))},n)}))})]})}var F=r(1736);function V(){var e=(0,g.yS)();return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(F.Z,{variant:"contained",size:"large",color:"success",onClick:function(){return e({open:!0})},children:"Generate"})})}var $=r(2982),H=r(4953),J=r(9877),T=r(4942);var U,X,q=r(168),K=r(1320),Y=r(8413),ee=r(885),ne=r(220),re=r(1954),te=r(1309),ie=r(5803),oe=r(1626),ae=["sx"],se=function(e){var n=e.sx,r=void 0===n?void 0:n,t=(0,f.Z)(e,ae);return(0,C.jsx)(ne.Z,(0,l.Z)({sx:(0,l.Z)({flex:"1",textAlign:"center",height:180,borderRadius:2,transition:"transform 0.15s ease-in-out","&:hover":{transform:"scale3d(1.025, 1.025, 1)"},cursor:"pointer"},r)},t))};function le(e){var n=e.title,r=void 0===n?void 0:n,t=e.description,i=void 0===t?void 0:t,o=e.image,a=void 0===o?void 0:o,s=e.children,l=void 0===s?void 0:s,u=c.useState({raised:!1}),x=(0,ee.Z)(u,2),g=x[0],h=x[1];return l?(0,C.jsx)(se,{children:(0,C.jsx)(re.Z,{children:l})}):(0,C.jsxs)(se,{onMouseOver:function(){return h({raised:!0})},onMouseOut:function(){return h({raised:!1})},raised:g.raised,elevation:g.raised?8:4,children:[(0,C.jsx)(te.Z,{sx:{borderBottom:"1px solid ".concat(oe.Z[400])},image:a,component:"img",height:180,width:"100%",alt:"cover image"}),(0,C.jsx)(re.Z,{sx:{pt:1,pb:0},children:(0,C.jsx)(d.ZP,{container:!0,children:(0,C.jsx)(d.ZP,{item:!0,xs:12,children:(0,C.jsxs)(d.ZP,{container:!0,children:[(0,C.jsx)(d.ZP,{item:!0,xs:12,children:(0,C.jsx)(ie.Z,{variant:"h5",noWrap:!0,children:r||"Unknown Name"})}),(0,C.jsx)(d.ZP,{item:!0,xs:12,children:(0,C.jsx)(ie.Z,{color:"textSecondary",noWrap:!0,children:i})})]})})})})]})}var de=Y.Z.div(U||(U=(0,q.Z)(["\n  padding: 0.5rem;\n  width: 22%;\n  display: flex;\n  flex: none;\n  align-content: stretch;\n\n  @media (max-width: 1350px) {\n    width: 45%;\n  }\n\n  @media (max-width: 600px) {\n    width: 95%;\n  }\n"]))),ce=Y.Z.div(X||(X=(0,q.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-left: -8px;\n  margin-right: -8px;\n"])));function ue(e){var n=e.data,r=e.height,t=e.GridItem,i=void 0===t?le:t,o=e.scrollElement,a=void 0===o?void 0:o;return(0,C.jsx)(K.Mr,{customScrollParent:a,totalCount:n.length,style:{overflowX:"hidden",height:a?void 0:r},components:{Item:de,List:ce,ScrollSeekPlaceholder:function(){return(0,C.jsx)(de,{children:(0,C.jsx)(i,{children:"--"})})}},itemContent:function(e){return(0,C.jsx)(i,(0,l.Z)({index:e},n[e]))}})}var xe={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:2,"@media (max-width: 1500px)":{width:800},"@media (max-width: 1200px)":{width:"50%"},"@media (max-width: 1050px)":{width:"75%"}};var ge=(0,H.$j)((function(e){return{loading:e.global.loading}}))((function(e){var n=e.loading,r=(0,x.CG)((function(e){return e.global.open})),o=(0,g.yS)(),d=function(){return o({open:!1})},h=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).trigger,n=void 0!==e&&e,r=(0,g.yS)(),o=(0,x.CG)((function(e){return e.global.images})),a=(0,x.CG)((function(e){return e.global.loading})),s=(0,x.CG)((function(e){return e.global.error})),d=(0,x.CG)((function(e){return Object.keys(e.global.selected).filter((function(n){var r;return!(0,P.xb)(null===(r=e.global.selected[n])||void 0===r?void 0:r.breed)})).reduce((function(n,r){return(0,l.Z)((0,l.Z)({},n),{},(0,T.Z)({},[e.global.selected[r].breed,e.global.selected[r].subBreed].filter((function(e){return!(0,P.xb)(e)})).join("/"),e.global.selected[r].count))}),{})})),h=c.useCallback((0,i.Z)((0,t.Z)().mark((function e(){var n,o,a,s,l,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s,l,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.breed,a=n.count,e.next=3,u.ZP.get("https://dog.ceo/api/breed/".concat(o,"/images/random/").concat(a));case 3:if("success"!==(null===(s=e.sent)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.status)||null===s||void 0===s||null===(i=s.data)||void 0===i||!i.message){e.next=8;break}return e.abrupt("return",null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message);case 8:throw d={message:"Error loading images",response:s},console.error(d.message,s),d;case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),r({loading:!0,images:[]}),o=[],e.prev=3,a=0;case 5:if(!(a<Object.keys(d).length)){e.next=15;break}return s=Object.keys(d)[a],l=d[s],e.next=10,n({breed:s,count:l});case 10:(c=e.sent)&&c.length>0&&(o=[].concat((0,$.Z)(o),(0,$.Z)(c)));case 12:a++,e.next=5;break;case 15:r({loading:!1,images:o}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),console.error("Error loading images",e.t0),r({loading:!1,error:e.t0});case 22:case"end":return e.stop()}}),e,null,[[3,18]])}))),[JSON.stringify(d),r]);return c.useEffect((function(){n&&h()}),[n,h]),{images:o,loading:a,error:s,handleRefresh:h}}({trigger:r}),v=h.images,p=void 0===v?[]:v;return(0,C.jsx)(J.Z,{sx:{m:0,p:0},open:r,onClose:d,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,C.jsx)(s.Z,{sx:{fontWeight:700,fontSize:20},children:(0,C.jsxs)(s.Z,{sx:xe,children:[n?"Loading...":"Viewing ".concat(p.length," image").concat(1===p.length?"":"s"),(0,C.jsx)(a.Z,{sx:{my:1}}),!1===n&&0===p.length?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(s.Z,{sx:{textAlign:"center",color:"red",fontWeight:500,mt:3},children:"No images to display!"}),(0,C.jsx)(s.Z,{sx:{textAlign:"center",fontWeight:500,fontSize:16,my:3},children:"Please ensure you have selected at least one breed before pressing the generate button."}),(0,C.jsx)(s.Z,{sx:{textAlign:"center",my:3},children:(0,C.jsx)(F.Z,{color:"warning",variant:"contained",onClick:d,children:"Close"})})]}):(0,C.jsx)(ue,{data:(0,$.Z)(p).sort((function(){return Math.random()-.5})).map((function(e){return{image:e,title:"a",description:"b"}})),height:"75vh"})]})})})})),he=r(4147);var ve=function(){return(0,C.jsxs)(d.ZP,{container:!0,alignItems:"center",sx:{fontSize:28,fontWeight:700,py:2},spacing:2,children:[(0,C.jsx)(d.ZP,{item:!0,children:(0,C.jsx)("img",{alt:"logo",src:(0,P.$r)("/logo32.png")})}),(0,C.jsx)(d.ZP,{item:!0,sx:{},xs:!0,children:"".concat(he.u2," v").concat(he.i8)}),(0,C.jsx)(d.ZP,{item:!0,xs:12,sx:{fontSize:16,fontWeight:500},children:"Instructions: Select desired, breed, subbreed and number of images and click generate."})]})},pe=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout((function(){return e(n)}),1e3*n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),fe=(0,P.Lg)(pe(3));var me=function(){return fe.read(),(0,C.jsxs)(o.Z,{sx:{mt:2},"data-testid":"layout-container",children:[(0,C.jsx)(ve,{}),(0,C.jsx)(a.Z,{sx:{mb:2}}),(0,C.jsx)(D,{}),(0,C.jsxs)(s.Z,{sx:{mt:4,textAlign:"center"},children:[(0,C.jsx)(V,{}),(0,C.jsx)(ge,{})]})]})}}}]);
//# sourceMappingURL=559.9b7f37f4.chunk.js.map