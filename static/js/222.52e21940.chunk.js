"use strict";(self.webpackChunkdog_poster_generator=self.webpackChunkdog_poster_generator||[]).push([[222],{4222:function(e,n,r){r.r(n),r.d(n,{default:function(){return pe}});var t=r(8214),i=r(5861),o=r(1992),a=r(4936),s=r(3598),l=r(1413),d=r(5537),c=r(9867),u=r(6334),x=r(2776),g=r(7155),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.trigger,r=void 0===n||n,o=(0,g.yS)(),a=(0,x.CG)((function(e){return e.global.breeds})),s=(0,x.CG)((function(e){return e.global.loading})),l=(0,x.CG)((function(e){return e.global.error})),d=c.useCallback((0,i.Z)((0,t.Z)().mark((function e(){var n,r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({loading:!0,breeds:[]}),e.prev=1,e.next=4,u.ZP.get("https://dog.ceo/api/breeds/list/all");case 4:"success"===(null===(i=e.sent)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.status)&&null!==i&&void 0!==i&&null!==(r=i.data)&&void 0!==r&&r.message?o({loading:!1,breeds:i.data.message}):(console.error("Error loading breeds",i),o({loading:!1,error:{message:"Error loading breeds"}})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error loading breeds",e.t0),o({loading:!1,error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[o]);return c.useEffect((function(){r&&d()}),[r,d]),{breeds:a,loading:s,error:l,handleRefresh:d}},v=r(1558),m=r(7501),p=r(5987),f=r(3999),b=r(8514),Z=r(3624),j=r(8571),C=r(9346),w=r(9595),P=r(2834),k=["options","disabled","loading","value","onChange","size"];function y(e){var n=e.options,r=e.disabled,t=void 0===r?void 0:r,i=e.loading,o=void 0===i?void 0:i,a=e.value,s=void 0===a?"":a,d=e.onChange,u=void 0===d?void 0:d,x=e.size,g=void 0===x?"small":x,h=(0,p.Z)(e,k),v=c.useCallback((function(e,n){return u(n)}),[u]),m=c.useCallback((function(e){return u("")}),[u]);return(0,P.jsx)(f.Z,{disabled:t,options:n,loading:o,freeSolo:!0,disableClearable:!1,onChange:v,size:g,value:s,renderInput:function(e){return(0,P.jsx)(Z.Z,(0,l.Z)((0,l.Z)({},e),{},{placeholder:"Please select an option...",onChange:u,InputProps:(0,l.Z)((0,l.Z)({},e.InputProps),{},{endAdornment:(0,P.jsx)(j.Z,{position:"end",children:o?(0,P.jsx)(C.Z,{size:"small",disabled:!0,children:(0,P.jsx)(b.Z,{color:"inherit",size:20})}):(0,P.jsx)(C.Z,{disabled:t,size:"small",onClick:m,children:(0,P.jsx)(w.Z,{})})})})},h))}})}function S(e){var n=e.id,r=e.value,t=e.placeholder,i=void 0===t?"Please select breed...":t,o=h({trigger:!1}),a=o.breeds,s=o.loading,l=(0,g.Qs)();return(0,P.jsx)(y,{value:r,loading:s,placeholder:i,onChange:function(e){return l({id:n,breed:e,subBreed:void 0})},options:Object.keys(a)})}function z(e){var n=e.id,r=e.value,t=e.placeholder,i=void 0===t?"Please select subbreed...":t,o=h({trigger:!1}).loading,a=(0,x.CG)((function(e){var r,t;return null!==(r=e.global.breeds[null===(t=e.global.selected[n])||void 0===t?void 0:t.breed])&&void 0!==r?r:[]})),s=(0,g.Qs)();return(0,P.jsx)(y,{value:r,loading:o,disabled:o||0===a.length,placeholder:0===a.length?"No sub breeds available":i,onChange:function(e){return s({id:n,subBreed:e})},options:null!==a&&void 0!==a?a:[]})}var I=r(6788),G=r(9597),N=r(6900),O=r(786),W=["inputRef","onChange","min","max","thousandSeparator"],A=["value","onChange","InputProps","inputProps","min","max","thousandSeparator"],E=function(e){return void 0!==e&&null!==e},R=function(e,n,r){return(0,O.xb)(r)?r:E(e)&&Number(r)<Number(e)?e:E(n)&&Number(r)>Number(n)?n:r};function B(e){var n=e.inputRef,r=e.onChange,t=e.min,i=e.max,o=e.thousandSeparator,a=void 0===o?",":o,s=(0,p.Z)(e,W);return(0,P.jsx)(N.Z,(0,l.Z)({getInputRef:n,onValueChange:function(e){r({target:{value:R(t,i,e.value)}})},decimalScale:0,allowNegative:!1,isNumericString:!0,thousandSeparator:a},s))}function L(e){var n=e.value,r=e.onChange,t=e.InputProps,i=void 0===t?{}:t,o=e.inputProps,a=void 0===o?{}:o,s=e.min,d=void 0===s?void 0:s,u=e.max,x=void 0===u?void 0:u,g=e.thousandSeparator,h=void 0===g?void 0:g,v=(0,p.Z)(e,A),m=c.useCallback((function(e){var n;return r&&r(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)}),[r]);return(0,P.jsx)(Z.Z,(0,l.Z)({onChange:m,value:n,margin:"dense",size:"small",InputProps:(0,l.Z)({inputComponent:B},i),inputProps:(0,l.Z)({value:n,min:d,max:x,thousandSeparator:h},a)},v))}function M(e){var n=e.id,r=e.value,t=(0,g.Qs)();return(0,P.jsx)(L,{min:1,max:100,value:r,onChange:function(e){return t({id:n,count:e})},InputProps:{endAdornment:(0,P.jsx)(j.Z,{position:"end",children:1===r||"1"===r?"image":"images"})}})}function Q(e){var n=e.id,r=e.breed,t=e.subBreed,i=e.count,o=e.canDelete,a=void 0===o||o,s=e.isLast,l=(0,g.Qs)(),u=(0,g.Rh)(),x=c.useCallback((function(){return l({})}),[l]),h=c.useCallback((function(){return u({id:n})}),[n,u]);return(0,P.jsxs)(d.ZP,{container:!0,spacing:2,sx:{mt:1},alignItems:"center",children:[(0,P.jsx)(d.ZP,{item:!0,xs:!0,children:(0,P.jsx)(S,{id:n,value:r})}),(0,P.jsx)(d.ZP,{item:!0,xs:!0,children:(0,P.jsx)(z,{id:n,value:t})}),(0,P.jsx)(d.ZP,{item:!0,sx:{width:132,pb:.25},children:(0,P.jsx)(M,{id:n,value:i})}),(0,P.jsx)(d.ZP,{item:!0,sx:{width:52},children:a&&(0,P.jsx)(v.Z,{title:"Remove row",children:(0,P.jsx)(m.Z,{size:"small",color:"warning","aria-label":"remove",onClick:h,children:(0,P.jsx)(I.Z,{})})})}),(0,P.jsx)(d.ZP,{item:!0,sx:{width:40},children:s&&(0,P.jsx)(v.Z,{title:"Add new row",children:(0,P.jsx)(m.Z,{size:"small",color:"primary","aria-label":"add",onClick:x,children:(0,P.jsx)(G.Z,{})})})})]},n)}function _(){h();var e=(0,x.CG)((function(e){return e.global.selected}));return(0,P.jsxs)(d.ZP,{container:!0,spacing:2,justifyContent:"center",children:[(0,P.jsx)(d.ZP,{item:!0,xs:!0,sx:{fontWeight:700},children:"Breed"}),(0,P.jsx)(d.ZP,{item:!0,xs:!0,sx:{fontWeight:700},children:"Subbreed"}),(0,P.jsx)(d.ZP,{item:!0,sx:{fontWeight:700,width:132},children:"# of Images"}),(0,P.jsx)(d.ZP,{item:!0,sx:{width:52}}),(0,P.jsx)(d.ZP,{item:!0,sx:{width:40}}),(0,P.jsx)(d.ZP,{item:!0,xs:12,children:(0,P.jsx)(a.Z,{})}),(0,P.jsx)(d.ZP,{item:!0,xs:12,children:Object.keys(e).map((function(n,r){return(0,P.jsx)(Q,(0,l.Z)((0,l.Z)({id:n},e[n]),{},{canDelete:Object.keys(e).length>1,isLast:r===Object.keys(e).length-1}))}))})]})}var D=r(4964);function F(){var e=(0,g.yS)();return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(D.Z,{variant:"contained",size:"large",color:"success",onClick:function(){return e({open:!0})},children:"Generate"})})}var J=r(2982),V=r(4953),T=r(3421),U=r(4942);var X,$,q=r(168),H=r(1320),K=r(1142),Y=r(885),ee=r(4828),ne=r(2314),re=r(8345),te=r(8547),ie=r(1212),oe=["sx"],ae=function(e){var n=e.sx,r=void 0===n?void 0:n,t=(0,p.Z)(e,oe);return(0,P.jsx)(ee.Z,(0,l.Z)({sx:(0,l.Z)({flex:"1",textAlign:"center",height:180,borderRadius:2,transition:"transform 0.15s ease-in-out","&:hover":{transform:"scale3d(1.025, 1.025, 1)"},cursor:"pointer"},r)},t))};function se(e){var n=e.title,r=void 0===n?void 0:n,t=e.description,i=void 0===t?void 0:t,o=e.image,a=void 0===o?void 0:o,s=e.children,l=void 0===s?void 0:s,u=c.useState({raised:!1}),x=(0,Y.Z)(u,2),g=x[0],h=x[1];return l?(0,P.jsx)(ae,{children:(0,P.jsx)(ne.Z,{children:l})}):(0,P.jsxs)(ae,{onMouseOver:function(){return h({raised:!0})},onMouseOut:function(){return h({raised:!1})},raised:g.raised,elevation:g.raised?8:4,children:[(0,P.jsx)(re.Z,{sx:{borderBottom:"1px solid ".concat(ie.Z[400])},image:a,component:"img",height:180,width:"100%",alt:"cover image"}),(0,P.jsx)(ne.Z,{sx:{pt:1,pb:0},children:(0,P.jsx)(d.ZP,{container:!0,children:(0,P.jsx)(d.ZP,{item:!0,xs:12,children:(0,P.jsxs)(d.ZP,{container:!0,children:[(0,P.jsx)(d.ZP,{item:!0,xs:12,children:(0,P.jsx)(te.Z,{variant:"h5",noWrap:!0,children:r||"Unknown Name"})}),(0,P.jsx)(d.ZP,{item:!0,xs:12,children:(0,P.jsx)(te.Z,{color:"textSecondary",noWrap:!0,children:i})})]})})})})]})}var le=K.Z.div(X||(X=(0,q.Z)(["\n  padding: 0.5rem;\n  width: 22%;\n  display: flex;\n  flex: none;\n  align-content: stretch;\n\n  @media (max-width: 1350px) {\n    width: 45%;\n  }\n\n  @media (max-width: 600px) {\n    width: 95%;\n  }\n"]))),de=K.Z.div($||($=(0,q.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-left: -8px;\n  margin-right: -8px;\n"])));function ce(e){var n=e.data,r=e.height,t=e.GridItem,i=void 0===t?se:t,o=e.scrollElement,a=void 0===o?void 0:o;return(0,P.jsx)(H.Mr,{customScrollParent:a,totalCount:n.length,style:{overflowX:"hidden",height:a?void 0:r},components:{Item:le,List:de,ScrollSeekPlaceholder:function(){return(0,P.jsx)(le,{children:(0,P.jsx)(i,{children:"--"})})}},itemContent:function(e){return(0,P.jsx)(i,(0,l.Z)({index:e},n[e]))}})}var ue={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:2,"@media (max-width: 1500px)":{width:800},"@media (max-width: 1200px)":{width:"50%"},"@media (max-width: 1050px)":{width:"75%"}};var xe=(0,V.$j)((function(e){return{loading:e.global.loading}}))((function(e){var n=e.loading,r=(0,x.CG)((function(e){return e.global.open})),o=(0,g.yS)(),d=function(){return o({open:!1})},h=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).trigger,n=void 0!==e&&e,r=(0,g.yS)(),o=(0,x.CG)((function(e){return e.global.images})),a=(0,x.CG)((function(e){return e.global.loading})),s=(0,x.CG)((function(e){return e.global.error})),d=(0,x.CG)((function(e){return Object.keys(e.global.selected).filter((function(n){var r;return!(0,O.xb)(null===(r=e.global.selected[n])||void 0===r?void 0:r.breed)})).reduce((function(n,r){return(0,l.Z)((0,l.Z)({},n),{},(0,U.Z)({},[e.global.selected[r].breed,e.global.selected[r].subBreed].filter((function(e){return!(0,O.xb)(e)})).join("/"),e.global.selected[r].count))}),{})})),h=c.useCallback((0,i.Z)((0,t.Z)().mark((function e(){var n,o,a,s,l,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s,l,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.breed,a=n.count,e.next=3,u.ZP.get("https://dog.ceo/api/breed/".concat(o,"/images/random/").concat(a));case 3:if("success"!==(null===(s=e.sent)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.status)||null===s||void 0===s||null===(i=s.data)||void 0===i||!i.message){e.next=8;break}return e.abrupt("return",null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message);case 8:throw d={message:"Error loading images",response:s},console.error(d.message,s),d;case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),r({loading:!0,images:[]}),o=[],e.prev=3,a=0;case 5:if(!(a<Object.keys(d).length)){e.next=15;break}return s=Object.keys(d)[a],l=d[s],e.next=10,n({breed:s,count:l});case 10:(c=e.sent)&&c.length>0&&(o=[].concat((0,J.Z)(o),(0,J.Z)(c)));case 12:a++,e.next=5;break;case 15:r({loading:!1,images:o}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),console.error("Error loading images",e.t0),r({loading:!1,error:e.t0});case 22:case"end":return e.stop()}}),e,null,[[3,18]])}))),[JSON.stringify(d),r]);return c.useEffect((function(){n&&h()}),[n,h]),{images:o,loading:a,error:s,handleRefresh:h}}({trigger:r}),v=h.images,m=void 0===v?[]:v;return(0,P.jsx)(T.Z,{sx:{m:0,p:0},open:r,onClose:d,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,P.jsx)(s.Z,{sx:{fontWeight:700,fontSize:20},children:(0,P.jsxs)(s.Z,{sx:ue,children:[n?"Loading...":"Viewing ".concat(m.length," image").concat(1===m.length?"":"s"),(0,P.jsx)(a.Z,{sx:{my:1}}),!1===n&&0===m.length?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(s.Z,{sx:{textAlign:"center",color:"red",fontWeight:500,mt:3},children:"No images to display!"}),(0,P.jsx)(s.Z,{sx:{textAlign:"center",fontWeight:500,fontSize:16,my:3},children:"Please ensure you have selected at least one breed before pressing the generate button."}),(0,P.jsx)(s.Z,{sx:{textAlign:"center",my:3},children:(0,P.jsx)(D.Z,{color:"warning",variant:"contained",onClick:d,children:"Close"})})]}):(0,P.jsx)(ce,{data:(0,J.Z)(m).sort((function(){return Math.random()-.5})).map((function(e){return{image:e,title:"a",description:"b"}})),height:"75vh"})]})})})})),ge=JSON.parse('{"u2":"dog-poster-generator","i8":"0.1.0"}');var he=function(){return(0,P.jsxs)(d.ZP,{container:!0,alignItems:"center",sx:{fontSize:28,fontWeight:700,py:2},spacing:2,children:[(0,P.jsx)(d.ZP,{item:!0,children:(0,P.jsx)("img",{alt:"logo",src:"/logo32.png"})}),(0,P.jsx)(d.ZP,{item:!0,sx:{},xs:!0,children:"".concat(ge.u2," v").concat(ge.i8)}),(0,P.jsx)(d.ZP,{item:!0,xs:12,sx:{fontSize:16,fontWeight:500},children:"Instructions: Select desired, breed, subbreed and number of images and click generate."})]})},ve=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout((function(){return e(n)}),1e3*n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),me=(0,O.Lg)(ve(3));var pe=function(){return me.read(),(0,P.jsxs)(o.Z,{sx:{mt:2},"data-testid":"layout-container",children:[(0,P.jsx)(he,{}),(0,P.jsx)(a.Z,{sx:{mb:2}}),(0,P.jsx)(_,{}),(0,P.jsxs)(s.Z,{sx:{mt:4,textAlign:"center"},children:[(0,P.jsx)(F,{}),(0,P.jsx)(xe,{})]})]})}}}]);
//# sourceMappingURL=222.52e21940.chunk.js.map